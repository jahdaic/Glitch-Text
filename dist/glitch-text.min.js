/*! glitch-text 12-08-2017 */

function glitch(t,e){var o={duration:2e3,speed:300,type:"substitute",rate:.1,chars:["ÏŸ","!","/","$"]};for(var i in e)o[i]=e[i];options=o,DEBUG&&console.log("options",options),startGlitch(t),options.duration>0&&setTimeout(stopGlitch,options.duration,t)}function startGlitch(t,e){for(var o=t.childNodes,i=0,n=o.length;i<n;i++)if("#text"==o[i].nodeName){if(o[i].textContent.trim()){var a=t.dataset.text?JSON.parse(t.dataset.text):[];a[i]?text=a[i]:text=a[i]=o[i].textContent,t.dataset.text=JSON.stringify(a),"substitute"==options.type&&(text=substitutionGlitch(text)),o[i].replaceWith(text)}}else startGlitch(o[i],!0);e||(t.dataset.timeout=setTimeout(startGlitch,options.speed,t,e))}function stopGlitch(t){if(DEBUG&&console.log("Stopping",t,t.dataset.text,t.dataset.timeout),!t.dataset.text)return!1;for(var e=t.childNodes,o=JSON.parse(t.dataset.text),i=0,n=e.length;i<n;i++)"#text"==e[i].nodeName?e[i].textContent.trim()&&(t.dataset.timeout&&clearTimeout(t.dataset.timeout),o[i]&&e[i].replaceWith(o[i])):stopGlitch(e[i]);delete t.dataset.text,delete t.dataset.timeout}function substitutionGlitch(t){for(var e=0,o=t.length;e<o;e++)" "!=t[e]&&Math.random()<=options.rate&&" "!=t[e]&&(t=replaceAt(t,e,getRandomElement(options.chars)));return t}function shiftGlitch(){}function replaceAt(t,e,o){return t.substr(0,e)+o+t.substr(e+o.length)}function getRandomElement(t){return t[Math.floor(Math.random()*t.length)]}var DEBUG=!0,options={};"undefined"!=typeof jQuery&&(jQuery.fn.glitch=function(t){return this.each(function(){glitch(this,t)})});
//# sourceMappingURL=glitch-text.min.js.map